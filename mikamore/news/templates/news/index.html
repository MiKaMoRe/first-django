{% extends "base.html" %}

{% load static %}

{% block title %}
  Новости
{% endblock title %}

{% block content %}
  <div class="row">

    {% include "include/_sidebar.html" %}

    <div class="col-md-9" style="display: flex; flex-wrap: wrap; gap: 20px;">

      {% for item in news %}
        <div class="card" style="width: 18rem;">

          {% if item.photo %}
            <img src="{{ item.photo.url }}" class="card-img-top" alt="..." />
          {% else %}
            <img src="{% static 'news/icons/no_image.png' %}"
                 class="card-img-top"
                 alt="..."
                 style="max-height: 180px;
                        width: 180px;
                        margin: 0 auto"/>
          {% endif %}

          <div class="card-body">
            <h5 class="card-title">{{ item.title }}</h5>
            <p class="card-text">{{ item.content|truncatewords:'5' }}</p>
            <p class="card-text">
              <a href="{{ item.get_absolute_url }}">Читать новость</a>
              <br>
              <small class="text-muted">Было создано: {{ item.created_at|date:'Y-m-d H:i:s' }}</small>
            </p>
          </div>
        </div>
      {% endfor %}

    </div>
  </div>
{% endblock content %}
